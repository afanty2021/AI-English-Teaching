# 功能测试指南

## 开发服务器
- **地址**: http://localhost:5173
- **状态**: 运行中 ✅

---

## 测试准备

### 1. 登录教师账号
访问 http://localhost:5173/login，使用教师账号登录

如果需要创建测试账号，可以使用：
```bash
# 在后端目录运行
python -c "
from app.models.user import User
from app.core.security import get_password_hash
from app.db.session import SessionLocal

db = SessionLocal()
teacher = User(
    username='test-teacher',
    email='teacher@test.com',
    hashed_password=get_password_hash('password123'),
    role='teacher',
    is_active=True
)
db.add(teacher)
db.commit()
print('教师账号创建成功: teacher@test.com / password123')
"
```

---

## 测试1: PPTPreview 组件

### 路径
教案管理 → 点击任意教案 → PPT 预览标签页

### 测试步骤
1. 访问 http://localhost:5173/teacher/lessons
2. 点击任意教案卡片打开详情抽屉
3. 切换到 "PPT 预览" 标签页

### 验证功能
- [ ] 幻灯片正确显示
- [ ] 左右箭头切换幻灯片
- [ ] 缩略图导航可点击
- [ ] 放大/缩小/重置缩放
- [ ] 全屏模式（F键）
- [ ] 显示/隐藏备注（N键）
- [ ] 显示/隐藏缩略图（T键）
- [ ] 键盘快捷键响应

### 键盘快捷键
| 按键 | 功能 |
|------|------|
| ← / → | 上一页/下一页 |
| + / - | 放大/缩小 |
| 0 | 重置缩放 |
| F | 全屏 |
| T | 切换缩略图 |
| N | 切换备注 |
| Home | 第一页 |
| End | 最后一页 |
| Esc | 退出全屏 |

---

## 测试2: 模板库页面

### 路径
直接访问 http://localhost:5173/teacher/template-library

### 测试步骤

#### 2.1 页面加载
1. 访问 http://localhost:5173/teacher/template-library
2. 验证页面正常加载
3. 检查空状态或模板列表显示

#### 2.2 视图切换
1. 点击网格图标 - 验证卡片视图
2. 点击列表图标 - 验证表格视图

#### 2.3 搜索筛选
1. 在搜索框输入关键词测试搜索
2. 使用级别筛选下拉框
3. 使用排序选项（最新/最热/评分）

#### 2.4 模板操作
**如果有测试数据**：
1. 点击卡片查看预览
2. 点击"应用"按钮
3. 点击"更多"菜单测试编辑/复制/收藏/删除

#### 2.5 空状态
1. 如果没有模板，应该显示空状态提示
2. 点击"创建第一个模板"按钮
3. 验证创建对话框打开

---

## 测试3: 创建模板（可选）

### 路径
模板库 → 创建模板按钮

### 测试步骤
1. 点击"创建模板"按钮
2. 填写表单：
   - 模板名称：`测试模板`
   - 分类：选择任意分类
   - 级别：选择 B1
   - 时长：45 分钟
   - 描述：`这是一个测试模板`
3. 点击"创建"按钮

### 预期结果
- 表单验证生效
- 创建成功后显示提示消息
- 模板列表刷新

---

## 常见问题排查

### 问题1: 页面404
**原因**: 路由未配置或路径错误
**解决**: 确认访问路径为 `/teacher/template-library`

### 问题2: API调用失败
**原因**: 后端服务未运行或API未实现
**解决**:
```bash
# 检查后端服务
cd backend
curl http://localhost:8000/api/v1/health
```

### 问题3: PPT预览无内容
**原因**: 教案没有 `ppt_outline` 数据
**解决**:
- 使用 AI 生成教案时会包含 PPT 数据
- 或在后端手动添加测试数据

### 问题4: 组件样式异常
**原因**: Element Plus 未正确加载
**解决**: 刷新页面，检查控制台错误

---

## 调试工具

### 浏览器控制台
打开开发者工具（F12）查看：
- Console 标签：查看错误日志
- Network 标签：查看 API 请求

### Vue DevTools
如果安装了 Vue DevTools 扩展：
- 查看组件树
- 检查 Props 和状态
- 监控事件触发

---

## 测试报告模板

```markdown
### 测试环境
- 浏览器: Chrome 120
- 时间: 2024-xx-xx

### 测试结果
| 功能 | 状态 | 备注 |
|------|------|------|
| PPT 预览页面加载 | ✅ / ❌ | |
| 幻灯片切换 | ✅ / ❌ | |
| 缩放控制 | ✅ / ❌ | |
| 全屏模式 | ✅ / ❌ | |
| 键盘快捷键 | ✅ / ❌ | |
| 模板库页面加载 | ✅ / ❌ | |
| 视图切换 | ✅ / ❌ | |
| 搜索筛选 | ✅ / ❌ | |
| 模板预览 | ✅ / ❌ | |

### 发现的问题
1. ...
2. ...

### 建议
1. ...
2. ...
```
