# ===========================================
# Docker 环境配置 - AI英语教学系统后端
# ===========================================
# 此文件用于 Docker Compose 部署
# 注意：敏感配置应通过环境变量或 secret 管理

# ===========================================
# Application Settings
# ===========================================
APP_NAME=AI English Teaching Backend
APP_VERSION=0.1.0
ENVIRONMENT=development
DEBUG=true
API_V1_PREFIX=/api/v1

# Server Configuration
HOST=0.0.0.0
PORT=8000
WORKERS=1

# ===========================================
# AI Provider Settings
# ===========================================
# 注意：请在运行时通过环境变量设置 API 密钥
# docker-compose run --env-file .env.secrets backend ...

# 智谱AI (ZhipuAI / BigModel)
ZHIPUAI_API_KEY=${ZHIPUAI_API_KEY:-}
ZHIPUAI_MODEL=glm-4.7
ZHIPUAI_EMBEDDING_MODEL=embedding-3
ZHIPUAI_BASE_URL=https://open.bigmodel.cn/api/paas/v4
ZHIPUAI_TEMPERATURE=0.7
ZHIPUAI_MAX_TOKENS=2000
ZHIPUAI_TOP_P=1
ZHIPUAI_TOP_K=1
ZHIPUAI_LESSON_PLAN_TIMEOUT=600

# OpenAI (备用)
OPENAI_API_KEY=${OPENAI_API_KEY:-}
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=2000

# Anthropic Claude (备用)
ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY:-}
ANTHROPIC_MODEL=claude-3-opus-20240229
ANTHROPIC_TEMPERATURE=0.7
ANTHROPIC_MAX_TOKENS=2000

# ===========================================
# Authentication Settings
# ===========================================
SECRET_KEY=${SECRET_KEY:-change_this_secret_key_in_production}
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_DAYS=7
JWT_SECRET_KEY=${JWT_SECRET_KEY:-change_this_jwt_secret_key}

# ===========================================
# CORS Settings
# ===========================================
CORS_ORIGINS=["http://localhost:3000","http://localhost:5173","http://127.0.0.1:3000","http://host.docker.internal:5173"]
CORS_ALLOW_CREDENTIALS=true

# ===========================================
# Cache Settings
# ===========================================
CACHE_TTL=3600
CACHE_MAX_SIZE=10000

# ===========================================
# Logging Settings
# ===========================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=./logs/app.log

# ===========================================
# Feature Flags
# ===========================================
ENABLE_SPEECH_RECOGNITION=true
ENABLE_TEXT_TO_SPEECH=true
ENABLE_GRAMMAR_CHECK=true
ENABLE_VOCABULARY_TRACKING=true
ENABLE_PROGRESS_ANALYTICS=true

# ===========================================
# AI Provider Selection
# ===========================================
AI_PROVIDER=zhipuai
