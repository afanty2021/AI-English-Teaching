# ===========================================
# Application Settings
# ===========================================
APP_NAME=AI English Teaching Backend
APP_VERSION=0.1.0
ENVIRONMENT=development
DEBUG=true
API_V1_PREFIX=/api/v1

# Server Configuration
HOST=0.0.0.0
PORT=8000
WORKERS=4

# ===========================================
# Database Settings (PostgreSQL)
# ===========================================
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/english_teaching
DATABASE_ECHO=false
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# ===========================================
# Redis Settings
# ===========================================
REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNECTIONS=50
REDIS_DECODE_RESPONSES=true

# ===========================================
# Vector Database (Qdrant)
# ===========================================
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334
QDRANT_COLLECTION_NAME=english_content
QDRANT_VECTOR_SIZE=1536

# ===========================================
# AI Provider Settings
# ===========================================

# OpenAI
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_EMBEDDING_MODEL=text-embedding-3-large
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=2000

# Anthropic Claude
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-opus-20240229
ANTHROPIC_TEMPERATURE=0.7
ANTHROPIC_MAX_TOKENS=2000

# ===========================================
# Authentication Settings
# ===========================================
SECRET_KEY=your_secret_key_change_this_in_production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Password Settings
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=true

# ===========================================
# CORS Settings
# ===========================================
CORS_ORIGINS=["http://localhost:3000", "http://localhost:5173", "http://127.0.0.1:3000"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["*"]
CORS_ALLOW_HEADERS=["*"]

# ===========================================
# JWT Settings
# ===========================================
JWT_SECRET_KEY=your_jwt_secret_key_change_this
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ===========================================
# File Upload Settings
# ===========================================
MAX_UPLOAD_SIZE=10485760
ALLOWED_FILE_TYPES=["audio/mpeg", "audio/wav", "audio/ogg", "video/mp4", "video/webm"]
UPLOAD_DIR=./uploads

# ===========================================
# Logging Settings
# ===========================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=./logs/app.log
LOG_ROTATION=500 MB
LOG_RETENTION=10 days

# ===========================================
# Rate Limiting Settings
# ===========================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ===========================================
# Cache Settings
# ===========================================
CACHE_TTL=3600
CACHE_MAX_SIZE=10000

# ===========================================
# Email Settings (Optional)
# ===========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_email_password
EMAILS_FROM_EMAIL=noreply@ai-english.com
EMAILS_FROM_NAME=AI English Teaching

# ===========================================
# Feature Flags
# ===========================================
ENABLE_SPEECH_RECOGNITION=true
ENABLE_TEXT_TO_SPEECH=true
ENABLE_GRAMMAR_CHECK=true
ENABLE_VOCABULARY_TRACKING=true
ENABLE_PROGRESS_ANALYTICS=true

# ===========================================
# Third-party Services
# ===========================================

# Speech Recognition (e.g., Whisper)
WHISPER_MODEL=base
WHISPER_LANGUAGE=en

# Text-to-Speech
TTS_ENGINE=openai
TTS_VOICE=alloy

# Content Moderation
CONTENT_MODERATION_ENABLED=true
CONTENT_MODERATION_THRESHOLD=0.7

# ===========================================
# Monitoring & Analytics
# ===========================================
ENABLE_METRICS=true
ENABLE_TRACING=false
SENTRY_DSN=

# ===========================================
# Celery Task Queue
# ===========================================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_TASK_ALWAYS_EAGER=false
